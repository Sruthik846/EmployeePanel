{% extends "user/home.html" %}
{% load static %}

{% block navurl %}
    <a class="navbar-brand " href="{% url 'idsalary' %}" >Salary Details</a>
{% endblock  %} 

{% block content %}
{% if salarydata %}
<!-- desktop view latest & all option -->
<div class="container d-none d-md-block content">
    <div class="row">
        <div class="col-sm-3">
            <button onclick="showlatest()" id="tab-latest" class="w-full py-3 font-medium transition-all duration-150 border-b-2 border-gray-300 cursor-pointer sm:px-16 sm:w-auto border-blue-600 text-blue-600" style="outline: none;">
                Latest
            </button>
        </div>
        <div class="col-sm-3">
            <button onclick="showall()" id="tab-all" class="w-full py-3 font-medium transition-all duration-150 border-b-2 border-gray-300 cursor-pointer sm:px-16 sm:w-auto" style="outline: none;">
                All
            </button>
        </div>
    </div>
    <br>
</div>
 <!-- mobile view latest & all option -->
<div class="container block d-md-none" style="margin-top: -75px;">
    <div class="row">
        <div class="col">
            <button onclick="showlatest1()" id="tab-latest1" class="w-full py-3 font-medium transition-all duration-150 border-b-2 border-gray-300 cursor-pointer sm:px-16 sm:w-auto border-blue-600 text-blue-600" style="outline: none;">
                Latest
            </button>
        </div>
        <div class="col">
            <button onclick="showall1()" id="tab-all1" class="w-full py-3 font-medium transition-all duration-150 border-b-2 border-gray-300 cursor-pointer sm:px-16 sm:w-auto" style="outline: none;">
                All
            </button>
        </div>
    </div>
</div>
   <!-- Desktop view -->
   <!-- Latest option -->
<div id="latest" class="d-none d-md-block"  >
    <br>
    <div class="d-none d-lg-block">
        <div class="row justify-content-start" style="position: relative;bottom: 20px;">
            <table  id="myTable" class="text-light table table-striped mx-3" style="text-align:center; text-transform:capitalize;width: 98%; background: #3146a9;">
            <thead >
                <tr>  
                    <th colspan="10" class="monthyr" style="text-align:center; text-transform:capitalize;width: 70%;font-size: large;font-weight: 700;">{{month}} {{year}}</th>
                    <th ><div class="flex justify-end">
                        <div class="border bg-blue-900 px-2 py-2 rounded-lg text-blue-800">
                            <label for="" class="mr-2 text-white">Grand Total</label>
                            <span class="mt-2 mr-2 text-3xl font-bold text-white" style="position: relative; top: 3px;">
                            {% if grand_total %}
                                &#8377;{{grand_total}}
                            {% else%}
                                &#8377;{{salarydata.total_salary}}
                            {% endif %}
                            </span>
                        </div>
                    </div></th>
                </tr>
            </thead>
            </table>
        </div>
        <!-- Basic Salary -->
        <div class="-mt-2 px-2 py-2 bg-white  shadow-xl rounded-lg flex justify-center" style="box-shadow: rgba(0, 0, 0, 0.35) 0px 5px 15px;">
            <div class="overflow-x-auto w-full">
                <div class="flex justify-center font-bold">
                    Basic Salary
                </div> 
                <table class="w-full whitespace-no-wrap "> 
                    <thead>
                        <tr class="text-xs font-semibold tracking-wide text-left uppercase text-white bg-blue-900 border-b">
                            <th class="text-center py-3">Grade</th>
                            <th class="text-center py-3">Grade Salary</th>
                            <th class="text-center py-3">Training</th>
                            <th class="text-center py-3">Bonus</th>
                            <th class="text-center py-3">Night Shift</th>
                        </tr>
                    </thead>
                    <tbody class="bg-white divide-y">
                        <tr class="text-gray-700 bg-blue-100 hover:bg-blue-200">
                            <td class="text-center py-3 text-md font-bold">
                                {{salarydata.grade}}
                            </td>
                            <td class="text-center py-3 text-md font-bold">
                                {{salarydata.salary}}
                            </td>
                            <td class="text-center py-3 text-md font-bold">
                                {{salarydata.training_salary}}
                            </td>
                            <td class="text-center py-3 text-md font-bold">
                                {{salarydata.bonus}}
                            </td>
                            <td class="text-center py-3 text-md font-bold">
                                {{salarydata.night_shift}}
                            </td>
                        </tr>
                    </tbody>
                    <thead>
                        <tr class="text-xs font-semibold tracking-wide text-left uppercase text-white bg-blue-900 border-b">
                            <th class="text-center py-3">Rent</th>
                            <th class="text-center py-3">Other</th>
                            <th class="text-center py-3">Total(Other)</th>
                            <th class="text-center py-3">Attendance</th>
                            <th class="text-center py-3">Work Salary</th>
                        </tr>
                    </thead>
                    <tbody class="bg-white divide-y">
                        <tr class="text-gray-700 bg-blue-100 hover:bg-blue-200">
                            <td class="text-center py-3 text-md font-bold">
                                {{salarydata.rent}}
                            </td>
                            <td class="text-center py-3 text-md font-bold">
                                {{salarydata.other}}
                            </td>
                            <td class="text-center py-3 text-md font-bold">
                                {{salarydata.total_other_income}}
                            </td>
                            <td class="text-center py-3 text-md font-bold">
                                {{salarydata.attendance}}
                            </td>
                            <td class="text-center py-3 text-md font-bold">
                                {{salarydata.total_salary}}
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
        <!-- END of Basic Salary -->

        <!-- Special Income -->
        {% if special_income %}
        <div class="px-2 py-2 bg-white shadow-xl rounded-lg flex justify-center mt-4" style="box-shadow: rgba(0, 0, 0, 0.35) 0px 5px 15px;">
            <div class="overflow-x-auto w-full">
            <div class="flex justify-center font-bold">
                Special Income
            </div> 
                <table class="w-full whitespace-no-wrap "> 
                    <thead>
                        <tr class="text-xs font-semibold tracking-wide text-left uppercase text-white bg-green-900 border-b">
                            <th class="text-center py-3">HRA</th>
                            <th class="text-center py-3">Invest Profit</th>
                            <th class="text-center py-3">Rsg Settlement</th>
                            <th class="text-center py-3">Minimum Wage</th>
                            <th></th>
                        </tr>
                    </thead>
                    <tbody class="bg-white divide-y">
                        <tr class="text-gray-700 bg-green-100 hover:bg-green-200">
                            <td class="text-center py-3 text-md font-bold">
                                {{special_income.HRA}}
                            </td>
                            <td class="text-center py-3 text-md font-bold">
                                {{special_income.invest_profit}}
                            </td>
                            <td class="text-center py-3 text-md font-bold">
                                {{special_income.Rsg_settlement}}
                            </td>
                            <td class="text-center py-3 text-md font-bold">
                                {{special_income.minimum_wage}}
                            </td>
                            <td></td>
                        </tr>
                    </tbody>
                        
                    <thead>
                        <tr class="text-xs font-semibold tracking-wide text-left uppercase text-white bg-green-900 border-b">
                            <th class="text-center py-3">Thanal</th>
                            <th class="text-center py-3">From Last Month</th>
                            <th class="text-center py-3">Festival Bonus</th>
                            <th class="text-center py-3">Savings</th>
                            <th class="text-center py-3">Total</th>
                        </tr>
                    </thead>
                    <tbody class="bg-white divide-y">
                        <tr class="text-gray-700 bg-green-100 hover:bg-green-200">
                            <td class="text-center py-3 text-md font-bold">
                                {{special_income.survey_scheme}}
                            </td>
                            <td class="text-center py-3 text-md font-bold">
                                {{special_income.from_last_month}}
                            </td>
                            <td class="text-center py-3 text-md font-bold">
                                {{special_income.festival_bonus}}
                            </td>
                            <td class="text-center py-3 text-md font-bold">
                            {{special_income.savings}}
                            </td>
                            <td class="text-center py-3 text-md font-bold text-base">
                                {{special_income.total}}
                            </td>
                        </tr>
                    </tbody>
                </table>
        </div>
        </div>
        {% endif %}
        <!-- END of Special Income -->

        <!-- Deductions -->
        {% if deductions %}
        <div class="px-2 py-2 bg-white shadow-xl rounded-lg flex justify-center mt-4" style="box-shadow: rgba(0, 0, 0, 0.35) 0px 5px 15px;">
            <div class="overflow-x-auto w-full">
                <div class="flex justify-center font-bold">
                Deductions
                </div> 
                <table class="w-full whitespace-no-wrap "> 
                    <thead>
                    <tr class="text-xs font-semibold tracking-wide text-left uppercase text-white bg-red-800 border-b">
                        <th class="text-center py-3">To Next Month</th>
                        <th class="text-center py-3">Other</th>
                        <th class="text-center py-3 text-base">Total</th>
                    </tr>
                    </thead>
                    <tbody class="bg-white divide-y">
                        <tr class="text-gray-700 bg-red-100 hover:bg-red-200">
                            <td class="text-center py-3 text-md font-bold">
                                {{deductions.to_next_month}}
                            </td>
                            <td class="text-center py-3 text-md font-bold">
                                {{deductions.other}}
                            </td>
                            <td class="text-center py-3 text-md font-bold text-base">
                                {{deductions.total}}
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
        {% endif %}
        <!-- END of Deductions -->
        <!-- Grand Total -->
        
        <!-- END of Grand Total -->
    
    </div>
    <div class="d-block d-lg-none">
        <div class="row justify-content-start" style="position: relative;bottom: 20px;">
            <table  id="myTable" class="text-light table table-striped mx-3" style="text-align:center; text-transform:capitalize;width: 98%; background: #3146a9;">
            <thead >
                <tr>
                    <th colspan="10" class="monthyr" style="text-align:center; text-transform:capitalize">{{month}} {{year}}</th>
                </tr>
            </thead>
            </table>
        </div>
        <!-- Basic Salary -->
        <div class="-mt-2 px-2 py-2 bg-white  shadow-xl rounded-lg flex justify-center" style="box-shadow: rgba(0, 0, 0, 0.35) 0px 5px 15px;">
            <div class="overflow-x-auto w-full">
                <div class="flex justify-center font-bold">
                    Basic Salary
                </div> 
                <table class="w-full whitespace-no-wrap "> 
                    <thead>
                        <tr class="text-xs font-semibold tracking-wide text-left uppercase text-white bg-blue-900 border-b">
                            <th class="text-center py-3">Grade</th>
                            <th class="text-center py-3">Grade Salary</th>
                            <th class="text-center py-3">Training</th>
                            <th class="text-center py-3">Bonus</th>
                            <th class="text-center py-3">Night Shift</th>
                        </tr>
                    </thead>
                    <tbody class="bg-white divide-y">
                        <tr class="text-gray-700 bg-blue-100 hover:bg-blue-200">
                            <td class="text-center py-3 text-md font-bold">
                                {{salarydata.grade}}
                            </td>
                            <td class="text-center py-3 text-md font-bold">
                                {{salarydata.salary}}
                            </td>
                            <td class="text-center py-3 text-md font-bold">
                                {{salarydata.training_salary}}
                            </td>
                            <td class="text-center py-3 text-md font-bold">
                                {{salarydata.bonus}}
                            </td>
                            <td class="text-center py-3 text-md font-bold">
                                {{salarydata.night_shift}}
                            </td>
                        </tr>
                    </tbody>
                    <thead>
                        <tr class="text-xs font-semibold tracking-wide text-left uppercase text-white bg-blue-900 border-b">
                            <th class="text-center py-3">Rent</th>
                            <th class="text-center py-3">Other</th>
                            <th class="text-center py-3">Total(Other)</th>
                            <th class="text-center py-3">Attendance</th>
                            <th class="text-center py-3">Work Salary</th>
                        </tr>
                    </thead>
                    <tbody class="bg-white divide-y">
                        <tr class="text-gray-700 bg-blue-100 hover:bg-blue-200">
                            <td class="text-center py-3 text-md font-bold">
                                {{salarydata.rent}}
                            </td>
                            <td class="text-center py-3 text-md font-bold">
                                {{salarydata.other}}
                            </td>
                            <td class="text-center py-3 text-md font-bold">
                                {{salarydata.total_other_income}}
                            </td>
                            <td class="text-center py-3 text-md font-bold">
                                {{salarydata.attendance}}
                            </td>
                            <td class="text-center py-3 text-md font-bold">
                                {{salarydata.total_salary}}
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
        <!-- END of Basic Salary -->

        <!-- Special Income -->
        {% if special_income %}
        <div class="px-2 py-2 bg-white shadow-xl rounded-lg flex justify-center mt-4" style="box-shadow: rgba(0, 0, 0, 0.35) 0px 5px 15px;">
            <div class="overflow-x-auto w-full">
            <div class="flex justify-center font-bold">
                Special Income
            </div> 
                <table class="w-full whitespace-no-wrap "> 
                    <thead>
                        <tr class="text-xs font-semibold tracking-wide text-left uppercase text-white bg-green-900 border-b">
                            <th class="text-center py-3">HRA</th>
                            <th class="text-center py-3">Invest Profit</th>
                            <th class="text-center py-3">Rsg Settlement</th>
                            <th class="text-center py-3">Minimum Wage</th>
                            <th></th>
                        </tr>
                    </thead>
                    <tbody class="bg-white divide-y">
                        <tr class="text-gray-700 bg-green-100 hover:bg-green-200">
                            <td class="text-center py-3 text-md font-bold">
                                {{special_income.HRA}}
                            </td>
                            <td class="text-center py-3 text-md font-bold">
                                {{special_income.invest_profit}}
                            </td>
                            <td class="text-center py-3 text-md font-bold">
                                {{special_income.Rsg_settlement}}
                            </td>
                            <td class="text-center py-3 text-md font-bold">
                                {{special_income.minimum_wage}}
                            </td>
                            <td></td>
                        </tr>
                    </tbody>
                        
                    <thead>
                        <tr class="text-xs font-semibold tracking-wide text-left uppercase text-white bg-green-900 border-b">
                            <th class="text-center py-3">Thanal</th>
                            <th class="text-center py-3">From Last Month</th>
                            <th class="text-center py-3">Festival Bonus</th>
                            <th class="text-center py-3">Savings</th>
                            <th class="text-center py-3">Total</th>
                        </tr>
                    </thead>
                    <tbody class="bg-white divide-y">
                        <tr class="text-gray-700 bg-green-100 hover:bg-green-200">
                            <td class="text-center py-3 text-md font-bold">
                                {{special_income.survey_scheme}}
                            </td>
                            <td class="text-center py-3 text-md font-bold">
                                {{special_income.from_last_month}}
                            </td>
                            <td class="text-center py-3 text-md font-bold">
                                {{special_income.festival_bonus}}
                            </td>
                            <td class="text-center py-3 text-md font-bold">
                            {{special_income.savings}}
                            </td>
                            <td class="text-center py-3 text-md font-bold text-base">
                                {{special_income.total}}
                            </td>
                        </tr>
                    </tbody>
                </table>
        </div>
        </div>
        {% endif %}
        <!-- END of Special Income -->

        <!-- Deductions -->
        {% if deductions %}
        <div class="px-2 py-2 bg-white shadow-xl rounded-lg flex justify-center mt-4" style="box-shadow: rgba(0, 0, 0, 0.35) 0px 5px 15px;">
            <div class="overflow-x-auto w-full">
                <div class="flex justify-center font-bold">
                Deductions
                </div> 
                <table class="w-full whitespace-no-wrap "> 
                    <thead>
                    <tr class="text-xs font-semibold tracking-wide text-left uppercase text-white bg-red-800 border-b">
                        <th class="text-center py-3">To Next Month</th>
                        <th class="text-center py-3">Other</th>
                        <th class="text-center py-3 text-base">Total</th>
                    </tr>
                    </thead>
                    <tbody class="bg-white divide-y">
                        <tr class="text-gray-700 bg-red-100 hover:bg-red-200">
                            <td class="text-center py-3 text-md font-bold">
                                {{deductions.to_next_month}}
                            </td>
                            <td class="text-center py-3 text-md font-bold">
                                {{deductions.other}}
                            </td>
                            <td class="text-center py-3 text-md font-bold text-base">
                                {{deductions.total}}
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
        {% endif %}
        <!-- END of Deductions -->
        <!-- Grand Total -->
        <div class="mt-4 flex justify-end">
            <div class="border bg-blue-900 px-2 py-2 rounded-lg text-blue-800">
                <label for="" class="mr-2 text-white">Grand Total</label>
                <span class="mt-2 mr-2 text-3xl font-bold text-white" style="position: relative; top: 3px;">
                {% if grand_total %}
                    &#8377;{{grand_total}}
                {% else%}
                    &#8377;{{salarydata.total_salary}}
                {% endif %}
                </span>
            </div>
        </div>
        <!-- END of Grand Total -->
    
    </div>
    
</div>
<!-- End of latest option -->
 <!-- All option -->
<div id="all" class="d-none d-md-block"  style="display:none!important;">
    <select id="yearDropdown"  oninput="filterTable()" style="background: #031c73;color: white;padding-left: 15px;
																font-weight: 700;margin-top: 2p;position: relative;bottom: 3px;">
			<option>All</option>
			<option>2021</option>
			<option>2022</option>
			<option>2023</option>
			<option>2024</option>
		  </select>
          <br>
    <div class="row" id="filter">
        {% if monthdata %}
            {% for x in monthdata %}
                <div class="col-lg-3 col-md-4 col-sm-6">
                    <div class="card card-stats">
                        <div class="card-body ">
                            <div class="row">
                                <div class="col-5 col-md-4 ">
                                    <div class="icon-big text-center icon-warning">
                                        <img class="money-bag" src = "{% static 'money-bag.svg' %}" alt=" " style="max-width: 67%;"/>
                                    </div>
                                </div>
                                <div class="col-6 col-md-8">
                                    <div class="numbers">
                                        <p class="card-category">{{x.year}}</p>
                                        <p class="card-title" style="font-size: large;">{{x.month}}</p>
                                    </div>
                                </div>
                            </div>
                            <div class="row ml-1">
                                <div class="text-center font-bold text-green-800" style="font-size: x-large;">
                                {% if x.grandtotal %}
                                    &#8377;  {{x.grandtotal}}
                                {% else %}
                                    &#8377;  {{x.total_salary}}
                                    {% endif %}
                                </div>
                            </div>
                            <div class="card-footer ">
                                <hr>
                                <a href="{% url 'idsalarydata' x.year x.month %}" style="text-decoration: none;">
                                <div class="stats">
                                    view more
                                    <i class="fa fa-arrow-right"></i>
                                </div>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            {% endfor %}
        {% else %}
            No details Available..!
        {% endif %}
    </div>
</div>
 <!-- End of All option -->
 <!-- Mobile view -->
<div id="latest1" class="block d-md-none" style="margin-top:80px;">
    <div class="d-block d-lg-none" >
      
        <div class="row justify-content-start" style="position: relative;">
            <table  id="myTable" class="text-light table table-striped mx-3 -mt-16" style="text-align:center; text-transform:capitalize;width: 98%; background: #3146a9;">
              <thead >
                  <tr>
                    <th colspan="10" class="monthyr" style="text-align:center; text-transform:capitalize">{{month}} {{year}}</th>
                  </tr>
              </thead>
            </table>
          </div>
        {% if not special_income %}
        <div class="-mt-1.5" style="position: relative;">
            <div class="row">
                <div class="col-sm-6" style="width:50%;"> 
                    <!--Metric Card-->
                    <div id="grad1" class="border-b-4 border-blue-900 rounded-sm shadow-xl p-2 mt-2 " style="min-height:80px;">
                        <div class="flex flex-row items-center">
                            <div class="flex-1 text-right mr-3">
                                <h5 class="font-bold capitalize" style="font-size: 15px; color: rgb(204, 212, 219);">Grade</h5><br>
                                <h3 class="font-bold text-light text-left" style="font-size: x-large; margin-top: 15%;">{{salarydata.grade}} <span class="text-blue-500"></span></h3>
                            </div>
                        </div>
                    </div>
                    <!--/Metric Card-->
                </div>
                <div class="col-sm-6" style="width:50%;"> 
                <!--Metric Card-->
                <div id="grad1" class="border-b-4 border-blue-900 rounded-sm shadow-xl p-2 mt-2 " style="min-height:150px;">
                    <div class="flex flex-row items-center">
                        <div class="flex-1 text-right mr-3">
                            <h5 class="font-bold capitalize " style="font-size: 15px; color: rgb(204, 212, 219);">Attendance</h5><br>
                            <h3 class="font-bold text-light text-left" style="font-size: x-large; margin-top: 15%;">{{salarydata.attendance}} <span class="text-blue-500"></span></h3>
                        </div>
                    </div>
                </div>
                <!--/Metric Card-->
                </div>
            </div>
            <div class="row">
                <div class="col-sm-6" style="width:50%;"> 
                    <!--Grade Salary-->
                    <div id="grad1" class="border-b-4 border-blue-900 rounded-sm shadow-xl p-2 mt-2 " style="min-height:135px;">
                        <div class="flex flex-row items-center">
                            <div class="flex-1 text-right mr-3">
                                <h5 class="font-bold capitalize " style="font-size: 15px; color: rgb(204, 212, 219);">Grade salary</h5><br>
                                <h3 class="font-bold text-light text-left" style="font-size: x-large; margin-top: 15%;">&#8377; {{salarydata.salary}} <span class="text-blue-500"></span></h3>
                            </div>
                        </div>
                    </div>
                    <!--/Grade Salary-->
                </div>
                <div class="col-sm-6" style="width:50%;"> 
                <!--Training-->
                <div id="grad1" class="border-b-4 border-blue-900 rounded-sm shadow-xl p-2 mt-2 " style="min-height:135px;">
                    <div class="flex flex-row items-center">
                        <div class="flex-1 text-right mr-3">
                            <h5 class="font-bold capitalize " style="font-size: 15px; color: rgb(204, 212, 219);">Training</h5><br>
                            <h3 class="font-bold text-light text-left" style="font-size: x-large; margin-top: 15%;">&#8377; {{salarydata.training_salary}} <span class="text-blue-500"></span></h3>
                        </div>
                    </div>
                </div>
                <!--/Training-->
                </div>
            </div>
            <div class="row">
                <div class="col-sm-6" style="width:50%;"> 
                    <!--Bonus-->
                    <div id="grad1" class="border-b-4 border-blue-900 rounded-sm shadow-xl p-2 mt-2 " style="min-height:80px;">
                        <div class="flex flex-row items-center">
                            <div class="flex-1 text-right mr-3">
                                <h5 class="font-bold capitalize " style="font-size: 15px; color: rgb(204, 212, 219);">Bonus</h5><br>
                                <h3 class="font-bold text-light text-left" style="font-size: x-large; margin-top: 15%;">&#8377; {{salarydata.bonus}} <span class="text-blue-500"></span></h3>
                            </div>
                        </div>
                    </div>
                    <!--/Bonus-->
                </div>
                <div class="col-sm-6" style="width:50%;"> 
                <!--Night Shift-->
                <div id="grad1" class="border-b-4 border-blue-900 rounded-sm shadow-xl p-2 mt-2 " style="min-height:80px;">
                    <div class="flex flex-row items-center">
                        <div class="flex-1 text-right mr-3">
                            <h5 class="font-bold capitalize " style="font-size: 15px; color: rgb(204, 212, 219);">Night Shift</h5><br>
                            <h3 class="font-bold text-light text-left" style="font-size: x-large; margin-top: 15%;">&#8377; {{salarydata.night_shift}} <span class="text-blue-500"></span></h3>
                        </div>
                    </div>
                </div>
                <!--/Night Shift-->
                </div>
            </div>
            <div class="row">
                <div class="col-sm-6" style="width:50%;"> 
                    <!--Rent-->
                    <div id="grad1" class="border-b-4 border-blue-900 rounded-sm shadow-xl p-2 mt-2 " style="min-height:80px;">
                        <div class="flex flex-row items-center">
                            <div class="flex-1 text-right mr-3">
                                <h5 class="font-bold capitalize " style="font-size: 15px; color: rgb(204, 212, 219);">Rent</h5><br>
                                <h3 class="font-bold text-light text-left" style="font-size: x-large; margin-top: 15%;">&#8377; {{salarydata.rent}} <span class="text-blue-500"></span></h3>
                            </div>
                        </div>
                    </div>
                    <!--/Rent-->
                </div>
                <div class="col-sm-6" style="width:50%;"> 
                    <!--Other-->
                    <div id="grad1" class="border-b-4 border-blue-900 rounded-sm shadow-xl p-2 mt-2 " style="min-height:80px;">
                        <div class="flex flex-row items-center">
                            <div class="flex-1 text-right mr-3">
                                <h5 class="font-bold capitalize " style="font-size: 15px; color: rgb(204, 212, 219);">Other</h5><br>
                                <h3 class="font-bold text-light text-left" style="font-size: x-large; margin-top: 15%;">&#8377; {{salarydata.other}} <span class="text-blue-500"></span></h3>
                            </div>
                        </div>
                    </div>
                    <!--/Other-->
                </div>
            </div>
            <div class="row">
                
                <div class="col-sm-12" > 
                <!--Metric Card-->
                <div id="grad1" class="border-b-4 border-blue-900 rounded-sm shadow-xl p-2 mt-2 " style="min-height:80px;">
                    <div class="flex flex-row items-center">
                        <div class="flex-1 text-right mr-3">
                            <h5 class="font-bold capitalize " style="font-size: 15px; color: rgb(204, 212, 219);">Total Salary</h5><br>
                            <h3 class="font-bold text-light text-left" style="font-size: xx-large; margin-left: 30px;">&#8377; {{salarydata.total_salary}} <span class="text-blue-500"></span></h3>
                        </div>
                    </div>
                </div>
                <!--/Metric Card-->
                </div>
            </div>
        </div>
        {% else %}
        <!-- Basic Salary -->
            <div class="row justify-content-between bg-blue-900 mx-0 rounded-md text-light font-bold text-xl py-12 mb-4 collapsible basic-salary">
                <div class="col-7">
                    Basic Salary
                </div>
                <div class="col text-lg">
                    &#8377; {{salarydata.total_salary}}
                </div>
            </div>
            <!-- Basic Salary Content -->
            <div class="-mt-2 px-2 py-2 bg-blue-900 shadow-xl rounded-lg flex justify-center salary-content" style="box-shadow: rgba(0, 0, 0, 0.35) 0px 5px 15px;">
                <div class="overflow-x-auto w-full">
                <div class="flex justify-center font-bold">
                    </div> 
                    <table class="w-full whitespace-no-wrap "> 
                        <thead>
                            <tr class="text-xs font-semibold tracking-wide text-left uppercase text-white bg-blue-900 border-b">
                                <th class="text-center py-3">Grade</th>
                                <th class="text-center py-3">Grade Salary</th>
                                <th class="text-center py-3">Training</th>
                                <th class="text-center py-3">Bonus</th>
                                <th class="text-center py-3">Night Shift</th>
                            </tr>
                        </thead>
                        <tbody class="bg-white divide-y">
                            <tr class="text-gray-700 bg-blue-100 hover:bg-blue-200">
                                <td class="text-center py-3 text-md font-bold"">
                                    {{salarydata.grade}}
                                </td>
                                <td class="text-center py-3 text-md font-bold">
                                    {{salarydata.salary}}
                                </td>
                                <td class="text-center py-3 text-md font-bold">
                                    {{salarydata.training_salary}}
                                </td>
                                <td class="text-center py-3 text-md font-bold">
                                    {{salarydata.bonus}}
                                </td>
                                <td class="text-center py-3 text-md font-bold">
                                    {{salarydata.night_shift}}
                                </td>
                            </tr>
                        </tbody>
                        <thead>
                            <tr class="text-xs font-semibold tracking-wide text-left uppercase text-white bg-blue-900 border-b">
                                <th class="text-center py-3">Rent</th>
                                <th class="text-center py-3">Other</th>
                                <th class="text-center py-3">Total<br>(Other)</th>
                                <th class="text-center py-3">Attendance</th>
                                <th class="text-center py-3">Work Salary</th>
                            </tr>
                        </thead>
                        <tbody class="bg-white divide-y">
                            <tr class="text-gray-700 bg-blue-100 hover:bg-blue-200">
                                <td class="text-center py-3 text-md font-bold">
                                    {{salarydata.rent}}
                                </td>
                                <td class="text-center py-3 text-md font-bold">
                                    {{salarydata.other}}
                                </td>
                                <td class="text-center py-3 text-md font-bold">
                                    {{salarydata.total_other_income}}
                                </td>
                                <td class="text-center py-3 text-md font-bold">
                                    {{salarydata.attendance}}
                                </td>
                                <td class="text-center py-3 text-md font-bold">
                                    {{salarydata.total_salary}}
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
    
        <!-- Special Income -->
            <div class="row justify-content-start bg-green-900 mx-0 rounded-md text-light font-bold text-xl px-10 py-12 mb-4 collapsible special-income">
                <div class="col-7">
                    Special Income
                </div>
                <div class="col text-lg">
                    &#8377; {{special_income.total|floatformat}}
                </div>
            </div>
            {% if special_income %}
            <div class="px-2 py-2 bg-green-900 shadow-xl rounded-lg flex justify-center mt-4 salary-content" style="box-shadow: rgba(0, 0, 0, 0.35) 0px 5px 15px;">
                <div class="overflow-x-auto w-full">
                
                <table class="w-full whitespace-no-wrap "> 
                    <thead>
                    <tr class="text-xs font-semibold tracking-wide text-left uppercase text-white bg-green-900 border-b">
                        <th class="text-center py-3">HRA</th>
                        <th class="text-center py-3">Invest Profit</th>
                        <th class="text-center py-3">Rsg. Settlement</th>
                        <th class="text-center py-3">Min. Wage</th>
                        <th class="text-center py-3">Thanal</th>
                    </tr>
                    </thead>
                    <tbody class="bg-white divide-y">
                        <tr class="text-gray-700 bg-green-100 hover:bg-green-200">
                            <td class="text-center py-3 text-md font-bold">
                                {{special_income.HRA}}
                            </td>
                            <td class="text-center py-3 text-md font-bold">
                                {{special_income.invest_profit}}
                            </td>
                            <td class="text-center py-3 text-md font-bold">
                                {{special_income.Rsg_settlement}}
                            </td>
                            <td class="text-center py-3 text-md font-bold">
                                {{special_income.minimum_wage}}
                            </td>
                            <td class="text-center py-3 text-md font-bold">
                                {{special_income.survey_scheme}}
                            </td>
                        </tr>
                    </tbody>
                    <thead>
                        <tr class="text-xs font-semibold tracking-wide text-left uppercase text-white bg-green-900 border-b">
                            <th class="text-center py-3">From Last Month</th>
                            <th class="text-center py-3">Festival Bonus</th>
                            <th class="text-center py-3">Savings</th>
                            <th class="text-center py-3" colspan="2">Total</th>
                        </tr>
                    </thead>
                    <tbody class="bg-white divide-y">
                        <tr class="text-gray-700 bg-green-100 hover:bg-green-200">
                            <td class="text-center py-3 text-md font-bold">
                                {{special_income.from_last_month}}
                            </td>
                            <td class="text-center py-3 text-md font-bold">
                                {{special_income.festival_bonus}}
                            </td>
                            <td class="text-center py-3 text-md font-bold">
                            {{special_income.savings}}
                            </td>
                            <td class="text-center py-3 text-md font-bold text-base" colspan="2" >
                                {{special_income.total}}
                            </td>
                        </tr>
                    </tbody>
                </table>
                </div>
            </div>
            {% endif %}
        
        <!-- Deductions -->
            <div class="row justify-content-start bg-red-900 mx-0 rounded-md text-light font-bold text-xl px-10 py-12 mb-4 collapsible deduction">
                <div class="col-7">
                    Deductions
                </div>
                <div class="col text-lg">
                    &#8377; {{deductions.total|floatformat}}
                </div>
            </div>
            {% if deductions %}
            <div class="px-2 py-2 bg-red-900 shadow-xl rounded-lg flex justify-center mt-4 salary-content" style="box-shadow: rgba(0, 0, 0, 0.35) 0px 5px 15px;">
                <div class="overflow-x-auto w-full">
                    <table class="w-full whitespace-no-wrap "> 
                        <thead>
                        <tr class="text-xs font-semibold tracking-wide text-left uppercase text-white bg-red-900 border-b">
                            <th class="text-center px-4 py-3">To Next Month</th>
                            <th class="text-center px-4 py-3">Other</th>
                            <th class="text-center px-4 py-3 text-base">Total</th>
                        </tr>
                        </thead>
                        <tbody class="bg-white divide-y">
                            <tr class="text-gray-700 bg-red-100 hover:bg-red-200">
                                <td class="text-center px-6 py-3 text-md font-bold">
                                    {{deductions.to_next_month}}
                                </td>
                                <td class="text-center px-6 py-3 text-md font-bold">
                                    {{deductions.other}}
                                </td>
                                <td class="text-center px-6 py-3 text-md font-bold text-base">
                                    {{deductions.total}}
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            {% endif %}
            <div class="row justify-content-start bg-blue-900 mx-0 h-32 rounded-md text-light font-bold text-md px-3 py-12">
            <span class="pt-3">Grand Total</span>   
            <span class="pl-12 text-4xl">&#8377;
                {% if grand_total %}
                    {{grand_total}}
                {% else %}
                    {{salarydata.total_salary}}
                {% endif %}
            </span>
            </div>
        {% endif %}
     
      </div>
</div>
<div id="all1" class="block d-md-none" style="margin-top:25px;display: none!important;">
    {% if monthdata %}
        {% for x in monthdata %}
            <div class="col-lg-3 col-md-4 col-sm-6" style="padding-left: 5px;padding-right: 5px;">
                <div class="card card-stats">
                    <div class="card-body ">
                        <div class="row">
                            <div class="col-5 col-md-4 ">
                                <div class="icon-big text-center icon-warning">
                                    <img class="money-bag" src = "{% static 'money-bag.svg' %}" alt=" " style="max-width: 67%;"/>
                                </div>
                            </div>
                            <div class="col-6 col-md-8">
                                <div class="numbers">
                                    <p class="card-category">{{x.year}}</p>
                                    <p class="card-title" style="font-size: large;">{{x.month}}</p>
                                </div>
                            </div>
                        </div>
                        <div class="row ml-1">
                            <div class="text-center font-bold text-green-800" style="font-size: x-large;">
                            {% if x.grandtotal %}
                                &#8377;  {{x.grandtotal}}
                            {% else %}
                                &#8377;  {{x.total_salary}}
                                {% endif %}
                            </div>
                        </div>
                        <div class="card-footer ">
                            <hr>
                            <a href="{% url 'idsalarydata' x.year x.month %}" style="text-decoration: none;">
                            <div class="stats">
                                view more
                                <i class="fa fa-arrow-right"></i>
                            </div>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        {% endfor %}
    {% else %}
        No details Available..!
    {% endif %}
</div>
{% else %}
    <div class="ml-3">
        No details Available!
    </div>
    {% endif %}
<script>
    function showall() {
        document.getElementById('all').style.display = "block";
		let ele = document.getElementById('latest');
        ele.setAttribute('style','display: none !important');
		document.getElementById("tab-all").classList.add('border-blue-600','text-blue-600');
		document.getElementById("tab-latest").classList.remove('border-blue-600','text-blue-600');
    }
    function showlatest() {
        document.getElementById('latest').style.display = "block";
        let ele = document.getElementById('all');
        ele.setAttribute('style','display: none !important');
		document.getElementById("tab-latest").classList.add('border-blue-600','text-blue-600');
		document.getElementById("tab-all").classList.remove('border-blue-600','text-blue-600');
    }
    function showall1() {
        document.getElementById('all1').style.display = "block";
        document.getElementById('all1').style.marginTop = "25px";
		let ele = document.getElementById('latest1');
        ele.setAttribute('style','display: none !important');
		document.getElementById("tab-all1").classList.add('border-blue-600','text-blue-600');
		document.getElementById("tab-latest1").classList.remove('border-blue-600','text-blue-600');
    }
    function showlatest1() {
        document.getElementById('latest1').style.display = "block";
        document.getElementById('latest1').style.marginTop = "80px";
        let ele = document.getElementById('all1');
        ele.setAttribute('style','display: none !important');
		document.getElementById("tab-latest1").classList.add('border-blue-600','text-blue-600');
		document.getElementById("tab-all1").classList.remove('border-blue-600','text-blue-600');
    }
    var coll = document.getElementsByClassName("collapsible");
    var i;
    
    for (i = 0; i < coll.length; i++) {
      coll[i].addEventListener("click", function() {
        this.classList.toggle("active");
        var content = this.nextElementSibling;
        if (content.style.display === "block") {
          content.style.display = "none";
        } else {
          content.style.display = "block";
        }
      });
    }
</script>
<script>
    function filterTable() {
	// Variables
	let dropdown, table, rows, cells, country, filter;
	dropdown = document.getElementById("yearDropdown");
	table = document.getElementById("filter");
	rows = table.getElementsByTagName("div");
	filter = dropdown.value;

	// Loops through rows and hides those with countries that don't match the filter
	for (let row of rows) { // `for...of` loops through the NodeList
		cells = row.getElementsByTagName("p");
		country = cells[0] || null; // gets the 2nd `td` or nothing
		// if the filter is set to 'All', or this is the header row, or 2nd `td` text matches filter
		if (filter === "All" || !country || (filter === country.textContent)) {
			row.style.display = ""; // shows this row
			}
        else {
			row.style.display = "none"; // hides this row
			}
		}
       

	}
</script>
{% endblock content %}